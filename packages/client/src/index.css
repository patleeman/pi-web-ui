@tailwind base;
@tailwind components;
@tailwind utilities;

/* Default theme (Catppuccin Mocha) - applied before JS loads */
:root {
  /* Base colors */
  --pi-bg: #1e1e2e;
  --pi-surface: #313244;
  --pi-border: #45475a;
  --pi-text: #cdd6f4;
  --pi-muted: #6c7086;
  --pi-accent: #cba6f7;
  --pi-accent-hover: #b4befe;
  --pi-success: #a6e3a1;
  --pi-error: #f38ba8;
  --pi-warning: #fab387;

  /* Syntax highlighting */
  --pi-code-keyword: #cba6f7;
  --pi-code-string: #a6e3a1;
  --pi-code-comment: #6c7086;
  --pi-code-function: #89b4fa;
  --pi-code-number: #fab387;
  --pi-code-operator: #89dceb;
  --pi-code-variable: #f5c2e7;

  /* Typography */
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: dark;
  color: var(--pi-text);
  background-color: var(--pi-bg);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

body {
  margin: 0;
  height: 100vh;
  overflow: hidden;
  background-color: var(--pi-bg);
  color: var(--pi-text);
}

#root {
  height: 100vh;
  overflow: hidden;
}

/* Scrollbar styling */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: var(--pi-surface);
}

::-webkit-scrollbar-thumb {
  background: var(--pi-border);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--pi-muted);
}

/* Code block styling */
pre {
  margin: 0;
  padding: 0;
}

code {
  font-family: 'JetBrains Mono', monospace;
}

/* Markdown styling - TUI compact */
.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
  margin-top: 0.5em;
  margin-bottom: 0.25em;
  font-weight: 600;
}

.markdown-content p {
  margin-bottom: 0.25em;
}

.markdown-content ul,
.markdown-content ol {
  margin-left: 1em;
  margin-bottom: 0.25em;
}

.markdown-content li {
  margin-bottom: 0;
}

.markdown-content a {
  color: var(--pi-accent);
  text-decoration: underline;
}

.markdown-content blockquote {
  border-left: 1px solid var(--pi-border);
  padding-left: 0.5em;
  margin: 0.25em 0;
  color: var(--pi-muted);
}

/* Thinking block animation */
@keyframes thinking-pulse {
  0%, 100% {
    opacity: 0.5;
  }
  50% {
    opacity: 1;
  }
}

.thinking-indicator {
  animation: thinking-pulse 1.5s ease-in-out infinite;
}

/* Mobile-friendly scrollbars - thinner on small screens */
@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  
  /* Hide scrollbar in tabs on mobile for cleaner look */
  .scrollbar-thin::-webkit-scrollbar {
    height: 2px;
  }
}

/* Prevent iOS text size adjustments */
html {
  -webkit-text-size-adjust: 100%;
}

/* Safe area insets for notched devices */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  body {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

/* Better touch feedback for interactive elements */
@media (hover: none) {
  button:active {
    opacity: 0.7;
  }
}

/* Prevent pull-to-refresh on mobile */
body {
  overscroll-behavior-y: contain;
}

/* Selection styling */
::selection {
  background-color: var(--pi-accent);
  color: var(--pi-bg);
}
