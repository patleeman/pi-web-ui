@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================================================
   Pi Web UI - Design Tokens
   Terminal-inspired, not terminal-cosplay. Professional tool aesthetics.
   ============================================================================ */

:root {
  /* Core palette - from mockup */
  --pi-bg: #0a0f14;           /* Near-black with subtle blue undertone */
  --pi-surface: #0d1117;      /* Slightly lighter for pane backgrounds */
  --pi-border: #21262d;       /* Very low contrast borders */
  --pi-border-focus: #3b82f6; /* Blue for focus states */
  --pi-text: #e6edf3;         /* Off-white, not pure white */
  --pi-muted: #7d8590;        /* Secondary text */
  --pi-accent: #4a9eff;       /* Muted blue - single accent color */
  --pi-accent-hover: #79b8ff; /* Lighter accent for hover states */

  /* Status colors - desaturated, used sparingly */
  --pi-success: #4ade80;      /* Green for done/success */
  --pi-warning: #facc15;      /* Amber for running/pending */
  --pi-error: #f87171;        /* Red for errors */
  --pi-idle: #52525b;         /* Gray for idle states */

  /* User message accent */
  --pi-user: #79c0ff;         /* Blue tint for user messages */

  /* Message backgrounds - distinct like TUI */
  --pi-user-bg: #1a2332;      /* Dark blue-gray for user messages */
  --pi-user-border: #2a3544;  /* Subtle border for user messages */
  --pi-tool-bg: #12171d;      /* Slightly different dark for tool calls */
  --pi-tool-border: #1e2630;  /* Subtle border for tool calls */
  --pi-assistant-bg: transparent;
  --pi-thinking-bg: transparent;

  /* Syntax highlighting - muted */
  --pi-code-keyword: #ff7b72;
  --pi-code-string: #a5d6ff;
  --pi-code-comment: #8b949e;
  --pi-code-function: #d2a8ff;
  --pi-code-number: #79c0ff;
  --pi-code-operator: #79c0ff;
  --pi-code-variable: #ffa657;

  /* Typography - monospace only */
  font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
  font-size: 13px;
  line-height: 1.5;
  font-weight: 400;
  color-scheme: dark;
  color: var(--pi-text);
  background-color: var(--pi-bg);
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Secondary text size class */
.text-secondary {
  font-size: 11px;
}

body {
  margin: 0;
  height: 100vh;
  height: 100dvh;
  overflow: hidden;
  background-color: var(--pi-bg);
  color: var(--pi-text);
}

#root {
  height: 100vh;
  height: 100dvh;
  overflow: hidden;
}

/* ============================================================================
   Scrollbars - Minimal
   ============================================================================ */

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #30363d;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--pi-muted);
}

/* ============================================================================
   Code & Pre
   ============================================================================ */

pre {
  margin: 0;
  padding: 0;
}

code {
  font-family: inherit;
}

/* ============================================================================
   Markdown - Compact
   ============================================================================ */

.markdown-content h1,
.markdown-content h2,
.markdown-content h3 {
  margin-top: 0.5em;
  margin-bottom: 0.25em;
  font-weight: 600;
}

.markdown-content p {
  margin-bottom: 0.25em;
}

.markdown-content ul,
.markdown-content ol {
  margin-left: 1em;
  margin-bottom: 0.25em;
}

.markdown-content li {
  margin-bottom: 0;
}

.markdown-content a {
  color: var(--pi-accent);
  text-decoration: underline;
}

.markdown-content blockquote {
  border-left: 1px solid var(--pi-border);
  padding-left: 0.5em;
  margin: 0.25em 0;
  color: var(--pi-muted);
}

/* ============================================================================
   Animations - Minimal, only cursor blink allowed per design
   ============================================================================ */

@keyframes cursor-blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.cursor-blink {
  animation: cursor-blink 1s step-end infinite;
}

/* Status indicator pulse - subtle */
@keyframes status-pulse {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 1; }
}

.status-running {
  animation: status-pulse 2s ease-in-out infinite;
}

/* ============================================================================
   Focus States
   ============================================================================ */

.pane-focused {
  border-color: var(--pi-border-focus);
}

/* ============================================================================
   Layout Utilities
   ============================================================================ */

/* 8px grid spacing */
.gap-grid { gap: 8px; }
.p-grid { padding: 8px; }
.m-grid { margin: 8px; }

/* Pane padding */
.p-pane { padding: 12px; }

/* ============================================================================
   Mobile Adjustments
   ============================================================================ */

@media (max-width: 768px) {
  ::-webkit-scrollbar {
    width: 4px;
    height: 4px;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    height: 2px;
  }
}

html {
  -webkit-text-size-adjust: 100%;
}

@supports (padding-bottom: env(safe-area-inset-bottom)) {
  body {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@media (hover: none) {
  button:active {
    opacity: 0.7;
  }
}

body {
  overscroll-behavior-y: contain;
}

::selection {
  background-color: var(--pi-accent);
  color: var(--pi-bg);
}

/* ============================================================================
   Input Placeholder
   ============================================================================ */

input::placeholder,
textarea::placeholder {
  color: #484f58;
}
